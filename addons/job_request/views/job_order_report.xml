<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_joborder_document">
        <t t-call="web.external_layout">
            <t t-set="doc" t-value="doc.with_context({'lang':doc.partner_id.lang})" />
            <div class="page">
                <div class="container">
                    <div class="oe_structure"/>
<br/>
<br/>

                    <div class="col-md-12">
                        <div class="text-right">
                            <div name="company_address" class="mb4">
                                <span t-field="doc.partner_id" t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}' />
                            </div>
                        </div>
                    </div>
                    <div style="height:1vh" />
                    <h2>
                        <span>Job Order # </span>
                        <span t-field="doc.name"/>
                    </h2>
                    <div class="row mt32 mb32">
                        <div class="col-auto mw-100 mb-3" />
                        <div t-if="doc.date_planned_start" class="col-auto mw-100 mb-3">
                            <strong>Planned Date:</strong>
                            <p class="m-0" t-field="doc.date_planned_start"/>
                        </div>
                        <div t-if="doc.user_id.name" class="col-auto mw-100 mb-3">
                            <strong>Responsible:</strong>
                            <p class="m-0" t-field="doc.user_id"/>
                        </div>
                        <div t-if="doc.product_id" class="col-auto mw-100 mb-3">
                            <strong>Product:</strong>
                            <p class="m-0" t-field="doc.product_id"/>
                        </div>
                        <div t-if="doc.product_qty" class="col-auto mw-100 mb-3">
                            <strong>Quantity To Produce:</strong>
                            <p class="m-0" t-field="doc.product_qty"/>
                        </div>

                        

                    </div>

                    <t t-if="doc.unbuild_ids">
                    <h2>Receiving Parts</h2>
                    <table class="table table-condensed">
                        <thead>
                            <tr>
                                <th>Product</th>
                                
                                <th class="text-right">Quantity</th>
                                <th class="text-right">UoM</th>
                            </tr>
                        </thead>
                        <tbody class="sale_tbody">
                            <t t-foreach="doc.unbuild_ids" t-as="l">
                            <tr>
                                <td>
                                    <span t-field="l.product_id"/>
                                </td>
                                <td class="text-right">
                                    <span t-field="l.product_uom_qty"/>
                                </td>
                                 <td class="text-right">
                                    <span t-field="l.product_uom"/>
                                </td>
                            </tr>
                            </t>
                        </tbody>
                    </table>
                </t>
                <t t-if="doc.partrecommendation_ids">
                    <h2>Part Recommendation</h2>
                    <table class="table table-condensed">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th class="text-right">Quantity</th>
                                <th class="text-right">UoM</th>
                            </tr>
                        </thead>
                        <tbody class="sale_tbody">
                            <t t-foreach="doc.partrecommendation_ids" t-as="l">
                            <tr>
                                <td>
                                    <span t-field="l.product_id"/>
                                </td>
                                <td class="text-right">
                                    <span t-field="l.product_uom_qty"/>
                                </td>
                                 <td class="text-right">
                                    <span t-field="l.product_uom"/>
                                </td>
                            </tr>
                            </t>
                        </tbody>
                    </table>
                </t>
                <t t-if="doc.damage_ids">
                    <h2>Damage List</h2>
                    <table class="table table-condensed">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th class="text-right">Quantity</th>
                                <th class="text-right">UoM</th>
                                <th>Remark</th>
                            </tr>
                        </thead>
                        <tbody class="sale_tbody">
                            <t t-foreach="doc.damage_ids" t-as="l">
                            <tr>
                                <td>
                                    <span t-field="l.product_id"/>
                                </td>
                                <td class="text-right">
                                    <span t-field="l.product_uom_qty"/>
                                </td>
                                <td class="text-right">
                                    <span t-field="l.product_uom"/>
                                </td>
                                <td>
                                    <span t-field="l.note"/>
                                </td>
                            </tr>
                            </t>
                        </tbody>
                    </table>
                </t>
                    <div class="clearfix" />
                    
                </div>
            </div>

        </t>
    </template>
    <template id="report_joborder">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="job_request.report_joborder_document" t-lang="doc.partner_id.lang"/>
            </t>
        </t>
    </template>


</odoo>
