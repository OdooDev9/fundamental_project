<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record model="ir.module.category" id="module_category_sale_incentive">
        <field name="name">Sale Incentive</field>
        <field name="description">Helps you manage your HR BU.</field>
        <field name="sequence">12</field>
    </record>
    <record id="group_sale_target_incentive" model="res.groups">
		<field name="name">Sale Target</field>
		<field name="category_id" ref="sale_incentive.module_category_sale_incentive"/>
	</record>
    <record id="group_normal_incentive" model="res.groups">
		<field name="name">Normal Incentive</field>
		<field name="category_id" ref="sale_incentive.module_category_sale_incentive"/>
	</record>
     <record id="manage_bu_sale_target" model="ir.rule">
        <field name="name">Manage Sale Target</field>
        <field name="model_id" ref="model_sale_target"/>
        <field name="domain_force">[('business_id', 'in', [g.id for g in user.hr_bu_ids])]</field>
    </record>
    <record id="manage_bu_sale_team_target" model="ir.rule">
        <field name="name">Manage BU Sale Team Target</field>
        <field name="model_id" ref="model_sale_team_target"/>
        <field name="domain_force">[('business_id', 'in', [g.id for g in user.hr_bu_ids])]</field>
    </record>
    <record id="manage_bu_personal_sale_target" model="ir.rule">
        <field name="name">Manage BU Personal Sale Target</field>
        <field name="model_id" ref="model_personal_sale_target"/>
        <field name="domain_force">[('business_id', 'in', [g.id for g in user.hr_bu_ids])]</field>
    </record>
    <record id="manage_br_sale_team_target" model="ir.rule">
        <field name="name">Manage BR Sale Team Target</field>
        <field name="model_id" ref="model_sale_team_target"/>
        <field name="domain_force">[('branch_id', 'in', [g.id for g in user.hr_br_ids])]</field>
    </record>
    <record id="manage_br_personal_sale_target" model="ir.rule">
        <field name="name">Manage BR Personal Sale Target</field>
        <field name="model_id" ref="model_personal_sale_target"/>
        <field name="domain_force">[('branch_id', 'in', [g.id for g in user.hr_br_ids])]</field>
    </record>

    <record id="manage_bu_normal_incentive_rule" model="ir.rule">
        <field name="name">Manage BU Normal Incentive </field>
        <field name="model_id" ref="model_normal_incentive_definition"/>
        <field name="domain_force">[('business_id', '=', user.current_bu_br_id.id)]</field>
        <field name="groups" eval="[(4, ref('master_data_extension.group_bu_user'))]"/>
    </record>
    <record id="manage_cfd_normal_incentive_rule" model="ir.rule">
        <field name="name">Manage CFD Normal Incentive </field>
        <field name="model_id" ref="model_normal_incentive_definition"/>
        <field name="domain_force">[]</field>
        <field name="groups" eval="[(4, ref('master_data_extension.group_cfd_user'))]"/>
    </record>

    <record id="manage_br_normal_incentive_main" model="ir.rule">
        <field name="name">Manage BR Normal Incentive </field>
        <field name="model_id" ref="model_normal_incentive_main"/>
        <field name="domain_force">[('branch_id', '=', user.current_bu_br_id.id)]</field>
        <field name="groups" eval="[(4, ref('master_data_extension.group_br_user'))]"/>
    </record>

    <record id="manage_bu_normal_incentive_main" model="ir.rule">
        <field name="name">Manage BU Normal Incentive </field>
        <field name="model_id" ref="model_normal_incentive_main"/>
        <field name="domain_force">[('business_id', '=', user.current_bu_br_id.id)]</field>
        <field name="groups" eval="[(4, ref('master_data_extension.group_bu_user'))]"/>
    </record>
    <record id="manage_cfd_normal_incentive_main" model="ir.rule">
        <field name="name">Manage CFD Normal Incentive </field>
        <field name="model_id" ref="model_normal_incentive_definition"/>
        <field name="domain_force">[]</field>
        <field name="groups" eval="[(4, ref('master_data_extension.group_cfd_user'))]"/>
    </record>


    <record id="manage_br_normal_incentive_request" model="ir.rule">
        <field name="name">Manage BR Normal Incentive Request </field>
        <field name="model_id" ref="model_incentive_request"/>
        <field name="domain_force">[('branch_id', '=', user.current_bu_br_id.id)]</field>
        <field name="groups" eval="[(4, ref('master_data_extension.group_br_user'))]"/>
    </record>

    <record id="manage_bu_normal_incentive_request" model="ir.rule">
        <field name="name">Manage BU Normal Incentive Request </field>
        <field name="model_id" ref="model_incentive_request"/>
        <field name="domain_force">[('business_id', '=', user.current_bu_br_id.id)]</field>
        <field name="groups" eval="[(4, ref('master_data_extension.group_bu_user'))]"/>
    </record>

</odoo>